<!doctype html>
<html>

<head>

  <title>Polymer Arabic Game</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <!-- App CSS -->
  <link rel="stylesheet" href="/assets/css/style.css" type="text/css">
  <!-- Polymer Imports -->
  <script src="../bower_components/webcomponents/webcomponents-lite.min.js"></script>
  <link rel="import" href="../bower_components/polymer/polymer.html">
  <!-- Layout/Polymer Elements -->
  <link rel="import" href="../bower_components/layout/layout.html">
  <link rel="import" href="../bower_components/core-header-panel/core-header-panel.html">
  <link rel="import" href="../bower_components/core-collapse/core-collapse.html">
  <link rel="import" href="../bower_components/core-icons/core-icons.html">
  <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
  <!-- Custom Elements Vulcanized -->
  <link rel="import" href="elements/elements.html">
</head>

<body fullbleed>
  <!-- arabic alphabet
  غ	ظ	ض	ذ	خ	ث	ت	ش	ر	ق	ص	ف	ع	س	ن	م	ل	ك	ي	ط	ح	ز	و	ه	د	ج	ب	ا
  -->
  <core-header-panel id="header-panel">
    <core-toolbar class="core-header horizontal justified layout start">
      <word-recorder class="horizontal start-justified layout flex"></word-recorder>
      <word-board class="horizontal center-justified layout flex-2" lang-code="ar"></word-board>
      <score-board class="horizontal end-justified layout flex"></score-board>
    </core-toolbar>
    <div class="content">
      <div class="horizontal layout">
        <core-collapse id="collapse1" horizontal>
          <div class="mini-menu">
            <div>
              Language: 
              <select onchange="setLang(this.value)">
                <option value="ar">Arabic</option>
                <option value="en">English</option>
                <option value="en-US-south">English (US South)</option>
              </select>
            </div>
            <br />
            <div>Nerdmodus: <button id="select-nerdmodus" onclick="setNerdModus()">select</button></div>
          </div>
        </core-collapse>
        <letter-list limit="12" lang-code="ar"></letter-list>
      </div>
      <div class="footer horizontal justified layout center">
        <div class="footer-button">
          <paper-icon-button id="menu-toggle" icon="more-vert" onclick="toggleCoreCollapse()"></paper-icon-button>
        </div>
        <jumbotron-text></jumbotron-text>
        <div id="nerdmodus-div"><paper-icon-button id="help-show" icon="help" onclick="showHelp()"></paper-icon-button></div>
      </div>
    </div>
  </core-header-panel>
  <script>
  var wordBoard = document.querySelector('word-board');
  var letterList = document.querySelector('letter-list');
  var jumbotron = document.querySelector('jumbotron-text');
  function toggleCoreCollapse() {
    document.querySelector('#collapse1').toggle();
  }
  function setLang(lang) {
    console.log("toggling language: " + lang);
    
    wordBoard.setAttribute("lang-code", lang);
    letterList.setAttribute("lang-code", lang);
    jumbotron.resetBox();
  }
  function showHelp() {
    alert("The rules of the game are simple.\n\n1. Select (tap/click) the letters to spell the word at the top bar on the bottom bar.\n2. When you think you have it, click the word at the bottom bar to reset the word, check your answer, and if you are correct, get the next word.\n3. If you make a typo, you've gotta tap the word at the bottom to reset it and lose points.\n\n Note: Arabic is a right to left language and the letters look significantly different depending on the position of the letter in the word (solo, beginning, middle, end).  All letters in the matrix are presented in the solo form.  If you get stuck, click a letter multiple times to see all of it's forms.");
  }
  function setNerdModus() {
    // Stub for those that want to learn good.
  }
 </script>
</body>
</html>
