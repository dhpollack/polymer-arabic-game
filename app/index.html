<!doctype html>
<html>

<head>

  <title>Polymer Arabic Game</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <!-- App CSS -->
  <link rel="stylesheet" href="/assets/css/style.css" type="text/css">
  <!-- Polymer Imports -->
  <script src="../bower_components/webcomponents/webcomponents-lite.min.js"></script>
  <link rel="import" href="../bower_components/polymer/polymer.html">
  <!-- Layout/Polymer Elements -->
  <link rel="import" href="../bower_components/layout/layout.html">
  <link rel="import" href="../bower_components/core-header-panel/core-header-panel.html">
  <link rel="import" href="../bower_components/core-collapse/core-collapse.html">
  <link rel="import" href="../bower_components/core-icons/core-icons.html">
  <link rel="import" href="../bower_components/core-overlay/core-overlay.html">
  <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
  <!-- Custom Elements Vulcanized -->
  <link rel="import" href="elements/elements.html">
</head>

<body fullbleed>
  <!-- arabic alphabet
  غ	ظ	ض	ذ	خ	ث	ت	ش	ر	ق	ص	ف	ع	س	ن	م	ل	ك	ي	ط	ح	ز	و	ه	د	ج	ب	ا
  -->
  <core-header-panel id="header-panel">
    <core-toolbar class="core-header horizontal justified layout start">
      <score-board id="score-board-player-1" player="1" class="horizontal start-justified layout flex"></score-board>
      <word-board class="horizontal center-justified layout flex-2" lang-code="ar"></word-board>
      <div class="top-right-item horizontal end-justified layout flex">
        <score-board id="score-board-player-2" player="2" hidden></score-board>
        <word-recorder></word-recorder>
      </div>
    </core-toolbar>
    <div class="content">
      <div class="horizontal layout">
        <core-collapse id="collapse1" horizontal>
          <div class="mini-menu">
            <div>
              Language: 
              <select onchange="setLang(this.value)">
                <option value="ar">Arabic</option>
                <option value="en">English</option>
                <option value="en-US-south">English (US South)</option>
              </select>
            </div>
            <br />
            <div>Recordmodus: <button id="select-nerdmodus" onclick="toggleRecordDiv()">toggle</button></div>
            <br />
            <div>Nerdmodus: <button id="select-nerdmodus" onclick="toggleNerdModus()">toggle</button></div>
          </div>
        </core-collapse>
        <letter-list limit="12" lang-code="ar"></letter-list>
      </div>
      <div class="footer horizontal justified layout center">
        <div class="footer-button horizontal start-justified layout flex">
          <paper-icon-button id="menu-toggle" icon="more-vert" onclick="toggleCoreCollapse()"></paper-icon-button>
        </div>
        <jumbotron-text class="horizontal center-justified layout flex-2"></jumbotron-text>
        <div id="nerdmodus-div" class="horizontal end-justified layout flex">
          <paper-icon-button id="clue-show" icon="text-format" onclick="showClue()"></paper-icon-button>
          <paper-icon-button id="help-show" icon="help" onclick="showHelp()"></paper-icon-button>
        </div>
      </div>
    </div>
  </core-header-panel>
  <core-overlay id="help-overlay" class="dialog" backdrop>
    <h3>The Goal</h3>
    <p>Spell the word at the top of the page.</p>
    <h3>The Rules</h3>
    <ol>
      <li>Look at the word at the top of the page.</li>
      <li>Spell the word using the letters in the grid.</li>
      <li>Check your word by pressing it at the bottom of the page.</li>
    </ol>
    <h3>Scoring and Tips</h3>
    <ol>
      <li>100 points for each correct answer and -30 points for each wrong answer.</li>
      <li>If you need help, click the underlined "A" in the bottom right corner.  This will spell the word for you.</li>
      <li>When you spell the word correctly, you will automatically hear the word.  However, you still must click the word at the bottom to check it.</li>
      <li>There is no delete button, so be careful!</li>
    </ol>
    <div id="help-lang-specific">
      <strong>Note:</strong> Arabic is a right to left language and the letters look significantly different depending on the position of the letter in the word (solo, beginning, middle, end).  All letters in the matrix are presented in the solo form.  If you get stuck, click a letter multiple times to see all of it's forms.
      <br>
      Lastly, in Arabic, some letters have accents (also called diacritics).  For the purposes of this game, you do not need to enter these.  But be careful because dots are not the same as these more elaborate marks.  Think of it as the difference between "l" and "t" (one has a cross the other doesn't) vs "e" and "é" (just an accent mark, at least in English it's just an accent ;-)).
    </div>
  </core-overlay>
  <script>
  var wordBoard = document.querySelector('word-board');
  var letterList = document.querySelector('letter-list');
  var jumbotron = document.querySelector('jumbotron-text');
  var overlay = document.getElementById('help-overlay');
  var recordDiv = document.getElementById('record-elem');
  var scoreBoard2 = document.getElementById('score-board-player-2');
  
  function toggleCoreCollapse() {
    document.querySelector('#collapse1').toggle();
  }
  function setLang(lang) {
    console.log("toggling language: " + lang);
    wordBoard.setAttribute("lang-code", lang);
    letterList.setAttribute("lang-code", lang);
    jumbotron.resetBox();
  }
  function showHelp() {
    overlay.toggle();
  }
  function toggleRecordDiv() {
    if(recordDiv.getAttribute("hidden")) {
      recordDiv.removeAttribute("hidden");
    } else {
      recordDiv.setAttribute("hidden", true);
    }
  }
  function toggleScoreBoard2() {
    // not implemented yet
    if(scoreBoard2.getAttribute("hidden")) {
      scoreBoard2.removeAttribute("hidden");
    } else {
      scoreBoard2.setAttribute("hidden", true);
    }
  }
  function showClue() {
    wordBoard.revealWord();
  }
  function toggleNerdModus() {
    // Stub for those that want to learn good.
  }
  
 </script>
</body>
</html>
