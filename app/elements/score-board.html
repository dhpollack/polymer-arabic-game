<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icons/core-icons.html">
<link rel="import" href="../../bower_components/layout/layout.html">

<dom-module id="score-board">
  <style>
  </style>
  <template>
    <div class="score-box">
      <span id="score-sign" class="horizontal layout center"><span id="score-box-score">{{score}}</span>&nbsp;<core-icon id="star-points" icon="stars"></core-icon></span>
    </div>
  </template>
</dom-module>
<script>
(function() {
  Polymer({
    is: "score-board",
    properties: {
      checkWord: {
        type: Array,
        value: function() { return ['مرحبا','مرحبا'];}
      },
      score: {
        type: Number,
        notify: true,
        value: 0
      },
      lastBucket: {
        type: String,
        notify: true
      }
    },
    listeners: {
      'last-bucket-changed': 'updateScoreBoard'
    },
    created: function() {
    },
    ready: function() {
      this.wordBoardBox = document.querySelector('word-board');
    },
    updateScoreBoard: function() {
      if(["","_____"].indexOf(this.lastBucket) === -1) {
        console.log("Does " + this.lastBucket + " = " + this.checkWord[1]);
        if(this.lastBucket === this.checkWord[1]) {
          this.score += 100;
          //this.fire("correct-answer", { lastword: attempt });
          this.wordBoardBox.wordFilter();
        } else {
          this.score -= 30;
        }
      }
    }
  });
})();
</script>